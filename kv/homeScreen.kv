<HomeScreen>:
    MDBoxLayout:
        orientation: "vertical"
        md_bg_color: 1,1,1,1

        MDTopAppBar:
            id: toolbar
            title: 'Hi Rui Yan'
            anchor_title: "left"
            elevation: 0
            md_bg_color: 1,1,1,1
            right_action_items: [["menu"]]
            # To change the color of the icon
            opposite_colors: False
            specific_text_color: 0, 0, 0, 1
        
        MDBoxLayout:
            id: hero_section
            adaptive_height: True
            md_bg_color: 1,1,1,1
            padding: [dp(toolbar.padding[0] + 10), (toolbar.height - 20) / 2, 0, (toolbar.height + 20) / 2]

            MDLabel:
                id: herosection_label
                text: "Explore today's \nworld news"
                font_style: "H5"
                font_name: "Poppins"

        MDBoxLayout:
            id: search_section
            adaptive_height: True
            padding: [0, (toolbar.height) / 4]
            size_hint_x: .9
            pos_hint: {"center_x": .5}

            MDTextField:
                mode: "fill"
                radius: [15,15,15,15]
                icon_right: "magnify"
                hint_text: "Search here"
                line_anim: False
                font_style: "Body1"
            
        MDScrollView:
            padding: [0, (toolbar.height) / 4]
            size_hint_x: .9
            pos_hint: {"center_x": .5, "center_y": .5}
            always_overscroll: False
            do_scroll_y: True
            do_scroll_x: False
            bar_width: 0

            # Latest news
            MDBoxLayout:
                orientation: 'vertical'
                spacing: 10
                padding: [0, 0, 0, 20]
                
                MDLabel:
                    text: "Latest News"
                    font_style: "H6"
                    font_name: "Poppins"
                    size_hint_y: .1
                
                ArticleRV:
                    size_hint_y: .9

<ArticleCard>
    size_hint: None, None
    radius: [20,20,20,20]
    adaptive_height: True
    
    MDBoxLayout:
        orientation: "horizontal"
        adaptive_height: True
        spacing: 20

        FitImage:
            source: root.urlToImage
            size_hint_x: .3
            size_hint_y: 1
            radius: [20,20,20,20]

        MDBoxLayout:
            orientation:"vertical"
            size_hint_x: .7
            spacing: 10

            MDLabel:
                text: root.article_title
                font_name: "Poppins"
                font_style: "Body1"
                bold: True
                text_size: self.width, None
                size_hint_y: None
                height: self.texture_size[1] 
                on_size: 
                    self.texture_update()
                    self.height = self.texture_size[1]
                        
            MDBoxLayout:
                orientation: "horizontal"
                spacing: 0

                MDLabel:
                    text: root.article_source
                    font_name: "Poppins"
                    shorten: True
                    shorten_from: 'right'
                    font_style: "Subtitle2"
                MDLabel:
                    text: root.article_published_at
                    font_name: "Poppins"
                    shorten: True
                    shorten_from: 'right'
                    font_style: "Subtitle2"

<ArticleRV>:
    viewclass: 'ArticleCard'
    SelectableRecycleBoxLayout:
        id: article_recycle_box
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'
        spacing: 40