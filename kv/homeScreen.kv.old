<HomeScreen>:
    MDBoxLayout:
        orientation: "vertical"

        MDTopAppBar:
            id: toolbar
            title: 'Hi Rui Yan'
            anchor_title: "left"
            elevation: 0
            md_bg_color: 1,1,1,1
            right_action_items: [["menu"]]
            # To change the color of the icon
            opposite_colors: False
            specific_text_color: 0, 0, 0, 1
        
        MDBoxLayout:
            id: hero_section
            adaptive_height: True
            md_bg_color: 1,1,1,1
            padding: [dp(toolbar.padding[0] + 10), (toolbar.height - 20) / 2, 0, (toolbar.height + 20) / 2]

            MDLabel:
                id: herosection_label
                text: "Explore today's \nworld news"
                font_style: "H5"
                font_name: "Poppins"

        MDBoxLayout:
            id: search_section
            adaptive_height: True
            padding: [0, (toolbar.height) / 4]
            size_hint_x: .9
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTextField:
                mode: "fill"
                radius: [15,15,15,15]
                icon_right: "magnify"
                hint_text: "Search here"
                line_anim: False
            
        MDScrollView:
            padding: [0, (toolbar.height) / 4]
            size_hint_x: .9
            pos_hint: {"center_x": .5, "center_y": .5}
            always_overscroll: False
            do_scroll_y: True
            do_scroll_x: False
            bar_width: 0

            MDBoxLayout:
            	orientation: 'vertical'
                spacing: 10

                # Category
                MDScrollView:
                    do_scroll_y: False
                    do_scroll_x: True
                    always_overscroll: False
                    bar_width: 0
                    size_hint_y: .2
                    adaptive_size: True
                    
                    MDGridLayout:
                        rows: 1
                        spacing: 10
                        adaptive_width: True
                        
                        CategoryCard:
                        CategoryCard:
                        CategoryCard:
                        CategoryCard:
                        CategoryCard:
                        CategoryCard:

                
                # Latest news
                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    spacing: 10
                    padding: [0, 0, 0, 20]
                    size_hint_y: .8
                    
                    MDLabel:
                        text: "Latest News"
                        font_style: "H6"
                        font_name: "Poppins"
                        size_hint_y: .1
                    
                    ArticleRV:
                        size_hint_y: .9

<CategoryCard@MDCard>
    padding: 4
    size_hint: None, None
    width: "150dp"

    MDRelativeLayout:

        MDLabel:
            id: label
            text: "hi"
            font_name: "Poppins"
            # adaptive_size: True
            halign: "center"
            color: "grey"
            bold: True

<ArticleCard>
    padding: 4
    size_hint_y: None
	height: "200dp"
    
    MDGridLayout:
        cols: 2

        FitImage:
            source: root.urlToImage
            height: "100dp"
            

        MDBoxLayout:
            orientation:"vertical"
            MDLabel:
                text: root.title
                font_name: "Poppins"
                adaptive_size: True
                color: "black"
                bold: True
        



<SelectableLabel>:
    # Draw a background to indicate selection
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size

<ArticleRV>:
    viewclass: 'ArticleCard'
    SelectableRecycleBoxLayout:
        id: article_recycle_box
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

        default_size: None, dp(56)
        default_size_hint: 1, None